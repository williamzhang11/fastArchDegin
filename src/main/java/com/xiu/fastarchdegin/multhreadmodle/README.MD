# 多线程并发模型

## 1.来一个连接生成一个线程


多线程并发模型是目前最普遍的服务端编程模型,该模型的架构如下图:

![image](https://github.com/williamzhang11/fastArchDegin/blob/master/src/main/java/com/xiu/fastarchdegin/image/multhreadmodle.jpg)

该模型针对每一个请求,会为其创建并分配一个线程.该线程负责这个请求的处理.

优点:1.执行粒度是整个完整的处理流程.处理逻辑清晰,开发容易.


缺点:1.如果处理过程中某一步骤出现长时间调用(网络通信,I/O磁盘读写),则会阻塞后续请求,造成资源浪费.

2.随着处理请求不断增加,导致并发执行线程数量太多.过多的线程数量导致系统在线程调度和资源争用上的

开销过大.引起系统性能急剧下降.导致系统处理能力下降


## 2.线程池(先储备很多线程)

线程池优点:可以减少创建和销毁销毁线程的频率,其维持一定合理数量线程,并让空闲的线程重新承担新的执行任务

连接池:维持连接的缓存池,尽量重用已有的连接,减少创建和关闭连接的频率

不足:线程池或连接池,一定程度上缓解了频繁调用IO接口带来的资源占用.但其始终有上限的,当请求大大超过上限时
池构成的系统对外界的响应并不比没有池的时候好多少.因此线程池必须考虑其面临的响应规模,并根据响应规模调整池
的大小.

多线程模型可以方便高效解决小规模的服务请求,但面对大规模的服务请求,多线程模型也会遇到瓶颈,此时可以用非阻塞
接口解决这个问题



## 3.leader follower








